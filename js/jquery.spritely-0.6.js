!function(c){c._spritely={animate:function(a){var t,e=c(a.el),p=e.attr("id");if(!c._spritely.instances[p])return this;if((a=c.extend(a,c._spritely.instances[p]||{})).play_frames&&!c._spritely.instances[p].remaining_frames&&(c._spritely.instances[p].remaining_frames=a.play_frames+1),"sprite"==a.type&&a.fps){var o,s=function(t){var e=a.width;a.height;if(!o){o=[];for(var s=total=0;s<a.no_of_frames;s++)o[o.length]=0-total,total+=e}0==c._spritely.instances[p].current_frame?a.on_first_frame&&a.on_first_frame(t):c._spritely.instances[p].current_frame==o.length-1&&a.on_last_frame&&a.on_last_frame(t),a.on_frame&&a.on_frame[c._spritely.instances[p].current_frame]&&a.on_frame[c._spritely.instances[p].current_frame](t),1==a.rewind?c._spritely.instances[p].current_frame<=0?c._spritely.instances[p].current_frame=o.length-1:c._spritely.instances[p].current_frame=c._spritely.instances[p].current_frame-1:c._spritely.instances[p].current_frame>=o.length-1?c._spritely.instances[p].current_frame=0:c._spritely.instances[p].current_frame=c._spritely.instances[p].current_frame+1;var i,n,r=c._spritely.getBgY(t);t.css("background-position",o[c._spritely.instances[p].current_frame]+"px "+r),a.bounce&&0<a.bounce[0]&&0<a.bounce[1]&&(i=a.bounce[0],n=a.bounce[1],r=a.bounce[2],t.animate({top:"+="+i+"px",left:"-="+n+"px"},r).animate({top:"-="+i+"px",left:"+="+n+"px"},r))};if(c._spritely.instances[p].remaining_frames&&0<c._spritely.instances[p].remaining_frames){if(c._spritely.instances[p].remaining_frames--,0==c._spritely.instances[p].remaining_frames)return c._spritely.instances[p].remaining_frames=-1,void delete c._spritely.instances[p].remaining_frames;s(e)}else-1!=c._spritely.instances[p].remaining_frames&&s(e)}else"pan"==a.type&&(c._spritely.instances[p]._stopped||("up"==a.dir?(c._spritely.instances[p].l=c._spritely.getBgX(e).replace("px",""),c._spritely.instances[p].t=c._spritely.instances[p].t-(a.speed||1)||0):"down"==a.dir?(c._spritely.instances[p].l=c._spritely.getBgX(e).replace("px",""),c._spritely.instances[p].t=c._spritely.instances[p].t+(a.speed||1)||0):("left"==a.dir?c._spritely.instances[p].l=c._spritely.instances[p].l-(a.speed||1)||0:c._spritely.instances[p].l=c._spritely.instances[p].l+(a.speed||1)||0,c._spritely.instances[p].t=c._spritely.getBgY(e).replace("px","")),-1==(t=c._spritely.instances[p].l.toString()).indexOf("%")?t+="px ":t+=" ",-1==(s=c._spritely.instances[p].t.toString()).indexOf("%")?s+="px ":s+=" ",c(e).css("background-position",t+s)));c._spritely.instances[p].options=a,window.setTimeout(function(){c._spritely.animate(a)},parseInt(1e3/a.fps))},randomIntBetween:function(t,e){return parseInt(rand_no=Math.floor((e-(t-1))*Math.random())+t)},getBgY:function(t){return c.browser.msie?c(t).css("background-position-y")||"0":(c(t).css("background-position")||" ").split(" ")[1]},getBgX:function(t){return c.browser.msie?c(t).css("background-position-x")||"0":(c(t).css("background-position")||" ").split(" ")[0]},get_rel_pos:function(t,e){var s=t;if(t<0)for(;s<0;)s+=e;else for(;e<s;)s-=e;return s}},c.fn.extend({spritely:function(t){var t=c.extend({type:"sprite",do_once:!1,width:null,height:null,fps:12,no_of_frames:2,stop_after:null},t||{}),e=c(this).attr("id");c._spritely.instances||(c._spritely.instances={}),c._spritely.instances[e]||(t.start_at_frame?c._spritely.instances[e]={current_frame:t.start_at_frame-1}:c._spritely.instances[e]={current_frame:-1}),c._spritely.instances[e].type=t.type,c._spritely.instances[e].depth=t.depth,t.el=this,t.width=t.width||c(this).width()||100,t.height=t.height||c(this).height()||100;return t.do_once?c._spritely.animate(t):window.setTimeout(function(){c._spritely.animate(t)},(t.fps,parseInt(1e3/t.fps))),this},sprite:function(t){t=c.extend({type:"sprite",bounce:[0,0,1e3]},t||{});return c(this).spritely(t)},pan:function(t){t=c.extend({type:"pan",dir:"left",continuous:!0,speed:1},t||{});return c(this).spritely(t)},flyToTap:function(t){return(t=c.extend({el_to_move:null,type:"moveToTap",ms:1e3,do_once:!0},t||{})).el_to_move&&c(t.el_to_move).active(),c._spritely.activeSprite&&(window.Touch?c(this)[0].ontouchstart=function(t){var e=c._spritely.activeSprite,s=t.touches[0],t=s.pageY-e.height()/2,s=s.pageX-e.width()/2;e.animate({top:t+"px",left:s+"px"},1e3)}:c(this).click(function(t){var e=c._spritely.activeSprite;c(e).stop(!0);var s=e.width(),i=e.height(),s=t.pageX-s/2,i=t.pageY-i/2;e.animate({top:i+"px",left:s+"px"},1e3)})),this},isDraggable:function(t){if(!c(this).draggable)return this;var t=c.extend({type:"isDraggable",start:null,stop:null,drag:null},t||{}),e=c(this).attr("id");return c._spritely.instances[e]&&(c._spritely.instances[e].isDraggableOptions=t,c(this).draggable({start:function(){var t=c(this).attr("id");c._spritely.instances[t].stop_random=!0,c(this).stop(!0),c._spritely.instances[t].isDraggableOptions.start&&c._spritely.instances[t].isDraggableOptions.start(this)},drag:t.drag,stop:function(){var t=c(this).attr("id");c._spritely.instances[t].stop_random=!1,c._spritely.instances[t].isDraggableOptions.stop&&c._spritely.instances[t].isDraggableOptions.stop(this)}})),this},active:function(){return c._spritely.activeSprite=this},activeOnClick:function(){var e=c(this);return window.Touch?e[0].ontouchstart=function(t){c._spritely.activeSprite=e}:e.click(function(t){c._spritely.activeSprite=e}),this},spRandom:function(t){var e,s,t=c.extend({top:50,left:50,right:290,bottom:320,speed:4e3,pause:0},t||{}),i=c(this).attr("id");return c._spritely.instances[i]&&(c._spritely.instances[i].stop_random||(e=(s=c._spritely.randomIntBetween)(t.top,t.bottom),s=s(t.left,t.right),c("#"+i).animate({top:e+"px",left:s+"px"},t.speed)),window.setTimeout(function(){c("#"+i).spRandom(t)},t.speed+t.pause)),this},makeAbsolute:function(){return this.each(function(){var t=c(this),e=t.position();t.css({position:"absolute",marginLeft:0,marginTop:0,top:e.top,left:e.left}).remove().appendTo("body")})},spSet:function(t,e){var s=c(this).attr("id");return c._spritely.instances[s][t]=e,this},spGet:function(t,e){var s=c(this).attr("id");return c._spritely.instances[s][t]},spStop:function(e){return c(this).each(function(){var t=c(this).attr("id");c._spritely.instances[t]._last_fps=c(this).spGet("fps"),c._spritely.instances[t]._stopped=!0,c._spritely.instances[t]._stopped_f1=e,"sprite"==c._spritely.instances[t].type&&c(this).spSet("fps",0),e&&(t=c._spritely.getBgY(c(this)),c(this).css("background-position","0 "+t))}),this},spStart:function(){return c(this).each(function(){var t=c(this).attr("id"),e=c._spritely.instances[t]._last_fps||12;c._spritely.instances[t]._stopped=!1,"sprite"==c._spritely.instances[t].type&&c(this).spSet("fps",e)}),this},spToggle:function(){var t=c(this).attr("id"),e=c._spritely.instances[t]._stopped||!1,t=c._spritely.instances[t]._stopped_f1||!1;return e?c(this).spStart():c(this).spStop(t),this},fps:function(t){return c(this).each(function(){c(this).spSet("fps",t)}),this},spSpeed:function(t){return c(this).each(function(){c(this).spSet("speed",t)}),this},spRelSpeed:function(e){return c(this).each(function(){var t=c(this).spGet("depth")/100;c(this).spSet("speed",e*t)}),this},spChangeDir:function(t){return c(this).each(function(){c(this).spSet("dir",t)}),this},spState:function(e){return c(this).each(function(){var t=(e-1)*c(this).height()+"px",t=c._spritely.getBgX(c(this))+" -"+t;c(this).css("background-position",t)}),this},lockTo:function(t,e){return c(this).each(function(){var r=c(this).attr("id");if(!c._spritely.instances[r])return this;c._spritely.instances[r].locked_el=c(this),c._spritely.instances[r].lock_to=c(t),c._spritely.instances[r].lock_to_options=e,window.setInterval(function(){var t,e,s,i,n;c._spritely.instances[r].lock_to&&(t=c._spritely.instances[r].locked_el,n=c._spritely.instances[r].lock_to,e=(i=c._spritely.instances[r].lock_to_options).bg_img_width,n.height(),s=c._spritely.getBgY(n),n=c._spritely.getBgX(n),n=parseInt(n)+parseInt(i.left),i=parseInt(s)+parseInt(i.top),n=c._spritely.get_rel_pos(n,e),c(t).css({top:i+"px",left:n+"px"}))},e.interval||20)}),this},destroy:function(){c(this);var t=c(this).attr("id");return delete c._spritely.instances[t],this}})}(jQuery);try{document.execCommand("BackgroundImageCache",!1,!0)}catch(t){}